---

- name: Apply basic ssh config on all hosts
  hosts: decoder
  tags: 
   - auth
   - ssh
   - ssh_authorized_keys
   - ssh-auth
   - sshd
  roles:
    - ssh_authorized_keys
    - sshd
  vars: 
    - ansible_ssh_user: 'ansible'

- name: Apply common basic config on all hosts
  hosts: decoder
  tags: 
   - auth
   - base
   - base_packages
   - home_environment
  roles:
    - home_environment
    - base_packages
  vars: 
    - ansible_ssh_user: 'ansible'

- name: Install useful tools
  hosts: decoder
  tags: 
   - base
   - base-special
   - install-git-lfs
   - install-bat
  roles:
    - install-bat
    - install-git-lfs
 
- name: Install video drivers
  hosts: decoder
  tags: 
   - driver
   - blackmagic
   - base-decoder
   - decoder_common
   - graphic
  roles:
    - decoder_common
    - graphic
    - blackmagic

- name: Install debugger
  hosts: decoder
  tags: 
   - debug
   - blackmagic
  roles:
    - decklink-debugger

- name: Install decodertomix
  hosts: decoder
  tags: 
   - stream
   - decodertomix
  roles:
    - decodertomix

- name: Install obs-studio
  hosts: decoder
  tags: 
   - stream
   - obs
  roles:
    - obs-studio

- name: Install obs-studio setup
  hosts: decoder
  tags: 
   - stream
   - obs-setup
  roles:
    - toolbox-obs-setup

- name: Install Toolbox font
  hosts: decoder
  tags: 
   - font
   - fonts
   - obs
  roles:
    - fonts
 
- name: Install crs-tools
  hosts: decoder
  tags: 
   - crs
   - crs-tools
  roles:
  - crs-tools


